/* 
Shared utilities and other styles common to all web components. Includes some variables, utilities and initial states for web components
*/

/*
Common variables.
*/
:root {
  --animation-duration: 0.6s;
  --animation-duration-fast: 0.3s;
}

/* 
Screen-reader only utility. 
*/
.sr-only:not(:focus):not(:active) {
  clip: rect(0 0 0 0);
  clip-path: inset(100%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

/*
Basic fade-in animation. Used for WC 'hydration' (undefined -> defined) transition.
*/
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* 
  Drawer component.
*/
mds-drawer:not(:defined) {
  /* Drawer should be hidden entirely until element is defined - it's initial state is totally hidden. */
  display: none;
}

mds-drawer:defined {
  /* Animate with fade-in when defined. */
  animation: fade-in var(--animation-duration);
}

/* 
  Mobile adapted content component. 
*/
mds-mobile-adapted-content:defined {
  /* Animate with fade-in when defined. */
  animation: fade-in var(--animation-duration);
}
/* 
  Initial states for mds-mobile-adapted-content based on media-query.
*/
@media (min-width: 420px) {
  /* If on desktop, hide all mobile-only slot content. */
  [slot='mobile-only'] {
    display: none;
  }
}
@media (max-width: 420px) {
  /* If on mobile, show only mobile-only slot content. */
  [slot='desktop'] {
    display: none;
  }
}

/* 
  Extra-details component.
*/
mds-extra-details:defined {
  animation: fade-in var(--animation-duration);
}
/* TODO: ther's a big FOUC/repaint when defined because there's no summary - so either put in a summary :part rather than a property or add a bunch of extra padding to the top of undefined that is a placeholder for summary. */
mds-extra-details:not(:defined) * {
  /* This is arbitrary - should be tied to height of summary; which needs to have a max height? Blah or should just use slot for summary so the header get's transposed...need that anyway probably to account for different markup. TODO: add a name slot for summary. */
  /* TODO: add a prop for 'selected' query.  */
  padding-top: 3rem;
}
mds-extra-details:not(:defined) * {
  /* Hide extra-details children visually for until defined. */
  visibility: hidden;
}
