/* Screen-reader only utility. */

.sr-only:not(:focus):not(:active) {
  clip: rect(0 0 0 0);
  clip-path: inset(100%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
/* 
mds-drawer:defined {
  animation-name: slide-from-left, fade-in;
  animation-duration: 0.3s, 0.3s;
  animation-play-state: paused, running;
} */

/* TODO: flesh out initialized styles. See related Codepen.!!!!! */
/* mds-drawer[initialized] { */
/* border: 10px lime solid; */
/* } */

/* Basic fade-in animation. */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* TODO: probably re-work animations as specific to Drawer and put the animation definitions in the CSS for the Component? No need to generalize them at the moment really - Just need to have the fade-in animation here for all components as they go from undefined to defined - maybe initial width/margin-left for Drawer too but dunno about that - should use preload maybe to block rendering of component till CSS is loaded anyway? */

/* TODO: add an set of keyframes for active facets etc and use that to simply extend regular <details> tag with animation on opening - i.e. animate height - calculate that I guess? */

/* Basic slide-in-from-left animation. */
@keyframes slide-from-left {
  from {
    margin-left: calc(-33vw - 1rem);
  }
  to {
    margin-left: 0;
  }
}

mds-drawer:not(:defined) {
  /* Should basically just be partaking of 'off-screen' styles. */
  /* margin-left: -1000px; */

  /* Not defined, so by definition not visible...need to do animations not transition here! */
  /* opacity: 0; */
  /* transition: opacity 8s ease-in; */
  /* background: red; */
}
/* Arguably Drawer stuff should be hidden entirely until element is defined. */
/* Back to getting some nasty FOUC on the Drawer again, so need to work on the animation/transition etc */
mds-drawer:not(:defined) {
  display: none;
  width: 0;
  overflow: hidden;
}

mds-drawer:not(:defined) section {
  width: 100%;
}

/* NEW CSS FOR DRAWER! */

/* TODO: think I need to refocus away from keyframe animations - too complex, just use --vars and transition like w/ Details - a bit easier to handle and use on interior <section> style width: bonus can do everything but fade inside the component CSS. */
/* mds-drawer { */
/* position: relative; */
/* overflow: visible; */
/* } */

/* TODO: clean up this whole file! Probably lots not required anymore! */

mds-drawer:defined {
  animation: fade-in 0.3s;
}

mds-drawer[initialized] {
  /* animation-name: slide-left; */
  /* animation-duration: 1s; */
  /* animation-fill-mode: forwards; */
}

mds-drawer[openStatus] {
  /* animation-name: slide-right; */
}

mds-drawer:not([openStatus]) {
  /* animation-name: slide-left; */
}

@keyframes slide-right {
  from {
    /* background: green; */
    width: 0;
  }
  to {
    /* background: red; */
    width: min(80%, 75vw);
  }
}

@keyframes slide-left {
  from {
    /* background: red; */
    width: min(80%, 75vw);
  }
  to {
    /* background: green; */
    width: 0;
  }
}

/* End of new Drawer CSS. */

/* TODO: use templates and slots here instead!?Or with? */
mds-mobile-adapted-content:not(:defined) > *:not([slot='mobile-only']) {
  visibility: hidden;
}

mds-mobile-adapted-content:defined {
  animation: fade-in 0.5s;
}
/* Initial states for mds-mobile-adapted-content based on media-query. */
@media (min-width: 420px) {
  /* If on desktop, hide all mobile-only slot content. */
  mds-mobile-adapted-content [slot='mobile-only'] {
    display: none;
  }
}
@media (max-width: 420px) {
  /* If on mobile, show only mobile-only slot content. */
  /* TODO: fix this mess! */
  mds-mobile-adapted-content:not(:defined) *,
  mds-mobile-adapted-content * {
    /* display: none; */
  }
  mds-mobile-adapted-content:not(:defined) [slot='mobile-only'] {
    /* display: block; */
  }
}

/* TODO: this should probably be overriden by default ol styles in any case so can remove later possibly. */
mds-extra-details ul,
mds-extra-details ol {
  margin: 0;
  padding-left: 1.5rem;
  padding-top: 0.3rem;
}

mds-extra-details li {
  margin-bottom: 0.25rem;
}

/* Make it global? or maybe at least see for anything 'mds-x' */
mds-extra-details:defined {
  animation-name: fade-in;
  animation-duration: 0.5s;
}
mds-extra-details:not(:defined) * {
  visibility: hidden;
}

/* TODO: now that more of details comp is rendered in ShadowDOM, getting FOUC so need init styles... Fade in prob. */
